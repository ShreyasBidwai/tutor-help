{% extends "base.html" %}

{% block title %}Edit Student - Tutor Help{% endblock %}

{% block header_title %}Edit Student{% endblock %}

{% block content %}
<div class="card">
    <form method="POST" action="{{ url_for('students.edit_student', student_id=student.id) }}">
        <div class="form-group">
            <label class="form-label" for="name">Student Name *</label>
            <input 
                type="text" 
                id="name" 
                name="name" 
                class="form-input" 
                value="{{ student.name }}"
                required
                autofocus
            >
        </div>
        
        <div class="form-group">
            <label class="form-label" for="phone">Parent Phone Number *</label>
            <input 
                type="tel" 
                id="phone" 
                name="phone" 
                class="form-input" 
                value="{{ student.phone }}"
                pattern="[0-9]{10}"
                maxlength="10"
                required
            >
        </div>
        
        <div class="form-group">
            <label class="form-label" for="batch_id">Batch *</label>
            <select id="batch_id" name="batch_id" class="form-select" required>
                <option value="">Select a batch</option>
                {% for batch in batches %}
                <option value="{{ batch.id }}" {% if batch.id == student.batch_id %}selected{% endif %}>
                    {{ batch.name }}
                </option>
                {% endfor %}
            </select>
        </div>
        
        <div class="form-group">
            <label class="form-label" for="standard">Standard/Class</label>
            <input 
                type="text" 
                id="standard" 
                name="standard" 
                class="form-input" 
                value="{{ student.standard or '' }}"
                placeholder="e.g., 10th, 12th, Class 5"
            >
        </div>
        
        <div class="form-group">
            <label class="form-label" for="school_name">School Name</label>
            <input 
                type="text" 
                id="school_name" 
                name="school_name" 
                class="form-input" 
                value="{{ student.school_name or '' }}"
                placeholder="Enter school name"
            >
        </div>
        
        <div class="form-group">
            <label class="form-label" for="address">Address</label>
            <textarea 
                id="address" 
                name="address" 
                class="form-textarea" 
                placeholder="Enter student address"
                style="min-height: 80px;"
            >{{ student.address or '' }}</textarea>
        </div>
        
        <div style="display: flex; gap: 0.75rem; margin-top: 1.5rem;">
            <a href="{{ url_for('students.students') }}" class="btn btn-secondary" style="flex: 1;">
                Cancel
            </a>
            <button type="submit" class="btn btn-primary" style="flex: 1;">
                Save Changes
            </button>
        </div>
    </form>
</div>

<script>
    // Auto-format phone number input
    document.getElementById('phone').addEventListener('input', function(e) {
        this.value = this.value.replace(/[^0-9]/g, '');
    });
</script>
{% endblock %}

